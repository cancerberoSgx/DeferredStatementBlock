/*! deferred-statement-block 2013-10-29 */
var ns={};DeferredStatementBlock=ns,ns.StatementBlock=function(){this.statements=[]},ns.StatementBlock.prototype._wrap=function(a){var b=function(){var b=jQuery.Deferred();return a&&a.apply(this,[b]),b};return b},ns.StatementBlock.prototype._getNextStatement=function(){if(!this.statements.length)return null;var a=this.statements.splice(0,1);return a[0]},ns.StatementBlock.prototype._execNext=function(){var a=this,b=this._getNextStatement(),c=this._wrap(b),d=c.apply(this,arguments);return d.done(function(){a._execNext()}),c},ns.StatementBlock.prototype.exec=function(){return this.statements.length?this._execNext():void 0},ns.StatementBlock.prototype.append=ns.StatementBlock.prototype.add=function(){var a=null,b=null;if(2==arguments.length?(a=arguments[0],b=arguments[1]):b=arguments[0],a){if(this.statementConfig)for(var c in this.statementConfig)a[c]||(a[c]=this.statementConfig[c]);b=this._resolveFromConfig(a,b)}this.statements.push(b)},ns.StatementBlock.prototype.DEFAULT_WAIT_MS=500,ns.StatementBlock.prototype.config={waitMs:ns.StatementBlock.prototype.DEFAULT_WAIT_MS},ns.StatementBlock.prototype.waitUntil=function(a,b){b=b||this.config.waitMs;var c=jQuery.Deferred(),d=function(){a()&&(c.resolve(),clearInterval(e))},e=setInterval(d,b);return c},ns.StatementBlock.prototype.waitForElement=function(a,b){return this.waitUntil(function(){return jQuery(a).size()>0},b)},ns.StatementBlock.prototype.triggerEvent=function(a,b){"string"==typeof b&&(b=jQuery(b)),b.each(function(){var b=this;if(b.fireEvent)b.fireEvent("on"+a);else{var c=document.createEvent("Events");c.initEvent(a,!0,!1),b.dispatchEvent(c)}})};